<!Doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>Spot maintenance cockpit</title>
		<meta name="author" content="Mario JÃ¤ckle">

		<link rel="stylesheet" type="text/css" href="css/normalize.min.css">
		<link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="../css/cform.style.css">
		<link rel="stylesheet" type="text/css" href="css/demo.css">
		<link rel="stylesheet" type="text/css" href="css/sunburst.theme.css">
	</head>
	<body>
		<header>
			<div class="center">
				<h1>Spot maintenance cockpit <small> - update and diagnose</small></h1>
				<ul class="clearfix">
					<li><a href="#about">About</a></li>
				    <li><a href="#spot">Spot</a></li>
				    <li><a href="#spotstatus">spot status</a></li>
				    <li><a href="#eventhub">Event Hub</a></li>
				</ul>
			</div>
		</header>
		<div class="center">
			<!-------------------------------------------------->
			<section id="about">
				<a name="about"></a>
				<div class="row clearfix">
					<div class="col100">
						<h2>Spot maintenance cockpit</h2>
						<h3>Maintain spots and diagnose database content and apis</h3>
					</div>
				</div>
				<div class="row clearfix">
					<div class="col50">
						<p>
							This site contains tools to create, update and display spot information in the backend datase. In addition there a number of diagnostic tools
							that can be used to test the different parts of the backend solution.<BR><BR>
							An authorization token is required to write and to read sensitive information through the api. Please supply one here.<BR><BR>
						</p>
					<div class="col50 cform">
						<label>Authorization Token</label>
						<input type="text" id="AuthToken" name="AuthToken" placeholder="Authorization token required for api write and read" size=50>
					</div>
					</div>
					<div class="col25">&nbsp;</div>
					<div class="col25 github">
						<a href="https://github.com/jacksbox/jquery.cForms">
							<img src="imgs/GitHub-Mark-120px-plus.png">
						</a><br/>
						<a href="">Download on gitHub</a>
					</div>
				</div>
			</section>
			<!-------------------------------------------------->
			<section id="spot">
				<div class="cform">
					<form id="SpotForm" name="SpotForm" method="POST" action="../../spotset.php">
						<a name="spot"></a>
						<h2>Spot maintenance</h2>
						<h3>AuthToken (top of page) and SpotID is always required. Fields that are not supplied will be left "as is" in the database.
						Any SensorID supplied must already be connected to the Event Hub. In the "Results" field you can always see the resulting spot record after the update.</h3>
					
						<div class="row clearfix">
							<h3>Required fields</h3>
							<div class="col50">
								<label>Spot ID</label>
								<input type="text" id="SpotID" name="SpotID" placeholder="Unique id of the spot" ssize=50>
							</div>
						</div>
						<div class="row clearfix">
							<h3>Optional fields</h3>
							<div class="col50">
								<label>Spot Name</label>
								<input type="text" id="SpotName" name="SpotName" placeholder="Description of the spot (room or seat)" size=50>
							</div>
							<div class="col50">
								<label>Sensor ID</label>
								<input type="text" id="SensorID" name="SensorID" placeholder="MAC-address in the form XX-XX-XX-XX-XX-XX" size=50>
							</div>
						</div>
						<div class="row clearfix">
							<div class="col25">
								<label>X Postion</label>
								<input type="text" id="XPos" name="XPos" placeholder="Pixel position in image">
							</div>
							<div class="col25">
								<label>Y Postion</label>
								<input type="text" id="YPos" name="YPos" placeholder="Pixel position in image">
							</div>
							<div class="col25">
								<label>Status icon size category</label>
								<input type="text" id="ImageSize" name="ImageSize" placeholder="0 or 1">
							</div>
						</div>
					</div>
					<div class="row clearfix">
						<h3>Update and retrieve results</h3>
						<div class="col50">
							<label>&nbsp;</label>
							<input type="submit" value="Update / Display" id="submit" name="SubmitSpot">
						</div>
						<div class="col50">
							<label>Results</label>
							<textarea id="SpotResults" name="SpotResults" rows="10"></textarea>
						</div>
					</form>
				</div>
			</section>

				<!--
				<div class="row clearfix">
					<h3>Required fields</h3>
					<div class="col25">
						<label>standard input</label>
						<input type="text" name="input-text">
					</div>
					<div class="col25">
						<label>input with placeholder</label>
						<input type="text" name="input-placeholder" placeholder="type here">
					</div>
					<div class="col25">
						<label>input with value</label>
						<input type="text" name="input-value" value="some text">
					</div>
					<div class="col25">
						<label>password</label>
						<input type="password" name="input-password">
					</div>
				</div>

				<div class="row clearfix">
					<h3>input: "checkbox" & "radio"</h3>
					<div class="col25">
						<div class="checkbox-wrapper">
							<input type="checkbox" value="value-01" name="checkbox-01" checked="checked"> <label>label</label>
						</div>
						<div class="checkbox-wrapper">
							<input type="checkbox" value="value-02" name="checkbox-02"> <label>label</label>
						</div>
						<div class="checkbox-wrapper">
							<input type="checkbox" value="value-03" name="checkbox-03" checked="checked"> <label>label</label>
						</div>
						<div class="checkbox-wrapper">
							<input type="checkbox" value="value-04" name="checkbox-04"> <label>label</label>
						</div>
					</div>
					<div class="col25">
						<div class="radio-wrapper">
							<input type="radio" value="value-01" name="radio-01" checked="checked"> <label>radio group 1</label>
						</div>
						<div class="radio-wrapper">
							<input type="radio" value="value-02" name="radio-01"> <label>radio group 1</label>
						</div>
						<div class="radio-wrapper">
							<input type="radio" value="value-03" name="radio-01"> <label>radio group 1</label>
						</div>
						<div class="radio-wrapper">
							<input type="radio" value="value-04" name="radio-01"> <label>radio group 1</label>
						</div>
					</div>
					<div class="col25">
						<div class="radio-wrapper">
							<input type="radio" value="value-01" name="radio-02"> <label>radio group 2</label>
						</div>
						<div class="radio-wrapper">
							<input type="radio" value="value-02" name="radio-02"> <label>radio group 2</label>
						</div>
						<div class="radio-wrapper">
							<input type="radio" value="value-03" name="radio-02"> <label>radio group 2</label>
						</div>
						<div class="radio-wrapper">
							<input type="radio" value="value-04" name="radio-02" checked="checked"> <label>radio group 2</label>
						</div>
					</div>
					<div class="col25">
					</div>
				</div>

				<div class="row clearfix">
					<h3>select:</h3>
					<div class="col25">
						<label>standard select</label>
						<select name="select-01">
							<option value="value-01">option 01</option>
							<option value="value-02">option 02</option>
							<option value="value-03">option 03</option>
						</select>
					</div>
					<div class="col25">
						<label>select pre-selected</label>
						<select name="select-02">
							<option value="value-01">option 01</option>
							<option value="value-02" selected="selected">default option</option>
							<option value="value-03">option 02</option>
							<option value="value-04">option 03</option>
							<option value="value-05">option 04</option>
						</select>
					</div>
					<div class="col25">
						<label>select disabled</label>
						<select name="select-02" disabled="disabled">
							<option value="value-01">option 01</option>
							<option value="value-02" selected="selected">default option</option>
							<option value="value-03">option 02</option>
							<option value="value-04">option 03</option>
							<option value="value-05">option 04</option>
						</select>
					</div>
					<div class="col25">
						<label>select multiple</label>
						<select name="select-03" multiple>
							<option value="value-01">option 01</option>
							<option value="value-02" selected="selected">option 02</option>
							<option value="value-03" selected="selected">option 03</option>
							<option value="value-04">option 04</option>
							<option value="value-05">option 05</option>
						</select>
					</div>
				</div>

				<div class="row clearfix">
					<h3>textarea & file</h3>
					<div class="col50">
						<label>textarea</label>
						<textarea name="textarea" rows="3"></textarea>
					</div>
					<div class="col25">&nbsp;</div>
					<div class="col25">
						<label>input file</label>
						<input type="file" name="input-file">
					</div>
				</div>

				<div class="row clearfix">
					<h3>submit & button</h3>
					<div class="col25">
						<label>input submit</label>
						<input type="submit" value="submit" name="input-submit">
					</div>
					<div class="col25">
						<label>button</label>
						<button type="button" value="submit" name="button">click</button>	
					<div class="col25">
					</div>
					<div class="col25">
					</div>
				</div>
			</section>-->
			<!-------------------------------------------------->
			<section id="usage">
				<a name="usage"></a>
				<h2>Usage</h2>
				<div class="row clearfix">
					<div class="col50">
						<h4>1. Include script</h4> 
						<p>Add <i>jquery.cform.js</i> or <i>jquery.cform.min.js</i> in your html file<br/></p>
						<br/>
						<h4>2. Include styles</h4> 
						<p>Add <i>cform.style.css</i> or <i>cform.style.min.css</i> in your html file<br/>
						This will add basic styling for the generated elements.<br/></p>
						<br/>
						<h4>3. Call cForm</h4> 
						<p>Call cForm inside of your $(document).ready() function.<br/>
						You can either call it on elements which contain multiple form-elements (which will than work on every of this element) or on a form-element directly (which will just style this element).</p>
						<br/>
						<code class="prettyprint lang-js">
							$('.element').cForm();
						</code>
						<br/>
						<h4>4. Enjoy!</h4> 
					</div>
					<div class="col50">
						<h4>Additional Information</h4>
						<p>The original form-element wonÂ´t be removed from the DOM. It will just be hidden. Changing the value of the cForm element (by user interaction) will also change the connected (and hidden) form-element.<br/>
						<br/>
						If you want to change a form-value by JavaScript, change the value of the original element and use the jQuery function <i>.trigger('change')</i> on the changed element: the connected cForm element will than be updated automatically.</p>
					</div>
				</div>
				<div class="row clearfix">
					<div class="col50">
						<h4>Plugin Options</h4> 
						<code class="prettyprint lang-js">
							$('.element').cForm({<br/>
							&nbsp;&nbsp;templates:		{	<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;text:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;textarea:&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;password:&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;file:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;checkbox:&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;radio:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;select:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;multiselect: 	'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;option:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;button:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;&nbsp;&nbsp;submit:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'html-template',<br/>
    						&nbsp;&nbsp;}<br/>
							});<br/>
						</code>
					</div>
					<div class="col50">
						<h4>&nbsp;</h4> 
						<p>In case of <i>text</i>, <i>password</i> and <i>textarea</i>, the given template will just be wraped around the input.<br/>
						<br/>
						All other templates have to include 'data-name="{{name}}"' and 'data-value="{{value}}"' in the outermost element.<br/>
						<br/>
						<i>select</i> templates have to contain the placeholder <i>{{text}}</i>, which indicates the position the current selected value will be shown.<br/>
						<br/>
						See below for the default templates.</p>
					</div>
				</div>
				<div class="row clearfix">
					<div class="col100">
						<h4>List of default templates // text</h4> 
							<code class="prettyprint lang-html">
							input type="text"<br/>
							&lt;div class="cform-text"&gt;&lt;/div&gt;<br/>
							<br/>
							input type="password" // password<br/>
							&lt;div class="cform-text cform-password"&gt;&lt;/div&gt;<br/>
							<br/>
							textarea // textarea<br/>
							&lt;div class="cform-text"&gt;&lt;/div&gt;<br/>
							<br/>
							input type="file" // file<br/>
							&lt;div class="cform-file" data-name="{{name}}"&gt;<br/>
    						&nbsp;&nbsp;&lt;div class="cform-control"&gt;choose file&lt;/div&gt;<br/>
    						&nbsp;&nbsp;&lt;div class="cform-filename"&gt; click here&lt;/div&gt;<br/>
    						&lt;/div&gt;<br/>
							<br/>
							input type="checkbox" // checkbox<br/>
							&lt;div class="cform-checkbox" data-name="{{name}}" data-value="{{value}}"&gt;<br/>
    						&nbsp;&nbsp;&lt;div class="cform-marker"&gt;&lt;/div&gt;<br/>
    						&lt;/div&gt;<br/>
							<br/>
							input type="radio" // radio<br/>
							&lt;div class="cform-radio" data-name="{{name}}" data-value="{{value}}"&gt;<br/>
    						&nbsp;&nbsp;&lt;div class="cform-marker"&gt;&lt;/div&gt;<br/>
    						&lt;/div&gt;<br/>
							<br/>
							select // select<br/>
							&lt;div class="cform-select {{class}}" data-name="{{name}}"&gt;<br/>
    						&nbsp;&nbsp;&lt;div class="cform-control"&gt;{{text}}&lt;/div&gt;<br/>
    						&nbsp;&nbsp;&lt;ul&gt;&lt;/ul&gt;<br/>
    						&lt;/div&gt;<br/>
							<br/>
							select multiple // multiselect<br/>
							&lt;div class="cform-multiselect {{class}}" data-name="{{name}}"&gt;<br/>
    						&nbsp;&nbsp;&lt;ul&gt;&lt;/ul&gt;<br/>
    						&lt;/div&gt;<br/>
							<br/>
							select option // option<br/>
							&lt;li data-value="{{value}}"&gt;{{text}}&lt;/li&gt;<br/>
							<br/>
							button // button<br/>
							&lt;div class="cform-button"&gt;&lt;/div&gt;<br/>
							<br/>
							input type="submit" // submit<br/>
							&lt;div class="cform-submit"&gt;&lt;/div&gt;<br/>
							<br/>
						</code>					
					</div>
				</div>
			</section>
			<footer>
				<a href="cform.jacksbox.de">jQuery cForm</a> | 
				on <a href="https://github.com/jacksbox/jquery.cForms">gitHub</a> | 
				<a href="mailto: support@jacksbox.de">support@jacksbox.de</a> <br/>
				by jacksbox.design | <a href="www.jacksbox.de">www.jacksbox.de</a>
			</footer>
		</div>

		<!--<script src="js/plugins/run_prettify.js"></script>-->
		<script src="js/libs/jquery-2.1.4.min.js"></script>
		<script src="../js/jquery.cform.js"></script>
		<!--<script src="js/demo.js"></script>-->
		<script>
			$(document).ready(function (){
				var spotFormUrl = "../../spotset.php";
				$('.cform').cForm();
				
				var authToken = $("#AuthToken");
				
				console.log("Setting up forms...");
				
				// Spot form
				var spotForm = $("#SpotForm");
				spotForm.submit(function(event){
					console.log("SpotForm submit pressed...");
					
					// Prevent default form action
					event.preventDefault();
					
					if($.trim(authToken.val()) !== "" && $.trim($("#SpotID")) !== ""){
						$("#SpotResults").val("Contacting backend...");
						$.post(spotFormUrl, {
							"AuthToken": $.trim(authToken.val()),
							"SpotID": $.trim($("#SpotID").val()),
							"SpotName": $.trim($("#SpotName").val()),
							"SensorID": $.trim($("#SensorID").val()),
							"ImageSize": $.trim($("#ImageSize").val()),
							"XPos": $.trim($("#XPos").val()),
							"YPos": $.trim($("#YPos").val())
							}, function(data){	// API call was successfull
								if(typeof data.Result !== undefined && data.Result === "success"){
									$("#SpotResults").val("Update was successful\n\n" + JSON.stringify(data,null,2));
								}
								else {
									$("#SpotResults").val("Update failed\n\n" + JSON.stringify(data,null,2));
								}
								
							});
					}
					else {
						$("#SpotResults").val("Missing Authorization token and/or Spot ID!");
						alert("Missing Authorization token and/or Spot ID!");
					}
				});
			});
		</script>
	</body>
</html>